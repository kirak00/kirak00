<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
<style>
table {width:100%; }
td  {border:1px solid #ddd; padding:10px; }
tr.false    {background:#ddd; color:#999}
tr.false a    {color:#999;}
tr td.td_1    {background:#fff; color:#000}
tr td.status    {text-align: center;}
</style>

  <div>
    <table>
      <colgroup>
        <col width="150"/>
        <col width=""/>
        <col width="150"/>
        <col width="300"/>
        <col width="100"/>
      </colgroup>
      <tr>
        <th>메뉴</th>
        <th>경로</th>
        <th>상태</th>
        <th>파일</th>
        <th>비고</th>
      </tr>
      <tbody id="ddd">
        <tr>
          <td>1</td>
          <td>2</td>
          <td>3</td>
          <td>4</td>
          <td>5</td>
        </tr>
      </tbody>
    </table>
  </div>

<script>

  

  var jsonList = [
   {tit : '메인', folder : 'main', page : 'main.html', status : false, ment : '', },
   {
    tit : '로그인', folder : 'login', page : '', status : false, ment : '',
    sub : [
      {tit : '로그인', folder : 'login', page : 'login.html', status : true , ment : '',},
      {tit : '아이디찾기', folder : 'login', page : 'login_id_search.html', status : false , ment : '',},
      {tit : '비밀번호 찾기', folder : 'login', page : 'login_pw_search.html', status : false, ment : '',},
    ],
   },
   {
    tit : '회원가입', folder : 'member', page : '', status : false,  ment : '',
    sub : [
      {tit : '회원가입', folder : 'member', page : '', status : false, ment : '', },
      {tit : '대표자 본인인증', folder : 'member', page : '', status : false, ment : 'popup', },
      {tit : '담당자등록', folder : 'member', page : '', status : false, ment : '', },
      {tit : '담당자인증', folder : 'member', page : '', status : false, ment : 'popup', },
    ],
   },
   {
    tit : '마이페이지', folder : 'mypage', page : 'index.html', status : false, pop : false, ment : '',
    sub : [
      {tit : '회원정보', folder : '', page : '', status : false, ment : '', },
      {tit : '대출 신청 관리', folder : '', page : '', status : false, ment : '', },
      {tit : '추가 서류 요청 관리', folder : '', page : '', status : false, ment : '', },
      {tit : '제안서 관리', folder : '', page : '', status : false, ment : '', },
      {tit : '대출 관리', folder : '', page : '', status : false, ment : '', },
      {tit : '대출 관리 상세', folder : '', page : '', status : false, ment : '', },
    ],
   },
   {
    tit : '대출신청', folder : 'folder', page : 'index.html', status : false, pop : false, ment : '',
    sub : [
      {tit : '대출신청절차 > 대출정보제공동의', folder : '', page : '', status : false, ment : '', },],
   }
  ]


  // console.log(jsonList)


  var txt = ""
  jsonList.forEach((o,i)=>{
      // console.log(o,i);
      // one
      var status = !o.status ? '-' : '완료' ;
      var row1=0;
      var row2=0;
      var row3=0;
      if(o.sub)
      o.sub.forEach((o2,i2)=>{
        status = !o.status ? '-' : '완료' ;
        row1++;
        if(o2.sub){
          o2.sub.forEach((o3,i3)=>{
            row2++;
          })
        }
      });
      var folder = "./"
      folder += o.folder
      
      txt += `<tr class="${o.status}"><td rowspan="${row1+ row2+1}" class="td_1">${o.tit}</td><td></td><td class="status">${status}</td><td><a target="_blank" href="${folder +"/" +o.page}">${folder +"/" +o.page}</a></td><td>${o.ment}</td></tr>\n`
      
      if(o.sub)
      o.sub.forEach((o2,i2)=>{
        status = o2.status != true ? '-' : '완료' ;
        url = o2.page;
        // if(i2==0) txt += `<tr class="${status}"><td rowspan="${o.sub.length}">${o2.tit}</td><td class="${status}">${status}</td><td><a href="${folder + '/'+url}">${o2.page} </a></td><td>${o2.ment}</td></tr>\n`;
        // else txt += `<tr class="${status}"><td>${status}</td><td><a href="${o2.page}">${o2.tit}</a></td><td>${o2.ment}</td></tr>\n`;
        txt += `<tr class="${o2.status}"><td >${o2.tit}</td><td class="status">${status}</td><td><a target="_blank" href="${folder + '/'+url}">${folder +"/" +o2.page} </a></td><td>${o2.ment}</td></tr>\n`;
          
        // if(o2.sub)
        // o2.sub.forEach((o3,i3)=>{
        // status = !o.status ? '-' : '완료' ;
        // txt += `<tr class="${status}"><td>22${status}</td><td><a href="${o3.page}">${o3.tit}</a></td><td></td></tr>\n`
        //   // o3.sub.forEach((o3,i3)=>{
        //   //   txt += `<tr><td>${o.folder}</td><td>${o2.folder}</td><td>${o3.folder}</td><td><a href="${o3.page}">${o3.tit}</a></td><tr>\n`
        //   // })
        // })
      })
  })

  document.querySelector("#ddd").innerHTML = txt
  // console.log(txt)

</script>
  
</body>
</html>